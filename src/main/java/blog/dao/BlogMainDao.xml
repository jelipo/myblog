<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="blog.dao.BlogMainDao">

    <select id="getWord" resultType="blog.bean.BlogMainPojo">
      select * from word where permission=1 ORDER BY date DESC LIMIT #{startNum},#{getBlogNum};
    </select>

    <select id="toWord" resultType="blog.bean.WordPojo">
        (SELECT * FROM word WHERE id &lt; #{0} LIMIT 1)
        union
        (SELECT * FROM word WHERE id = #{0} )
        union
        (SELECT * FROM word WHERE id &gt; #{0} LIMIT 1 )
    </select>

    <select id="getComments" resultType="blog.bean.CommentPojo">
        select * from comment where wordId=#{0} ORDER BY isMainComment ,date;
    </select>

    <insert id="putReply" parameterType="java.util.HashMap" useGeneratedKeys="true">
        INSERT INTO comment(wordId,isMainComment,observerName,toObserverName,date,viceComment_mainComment_id,value,email)
        VALUE (#{wordId},#{isMainComment},#{observerName},#{toObserverName,jdbcType=VARCHAR},
          #{date},#{viceComment_mainComment_id,jdbcType=VARCHAR},#{value},#{email});
    </insert>


</mapper>